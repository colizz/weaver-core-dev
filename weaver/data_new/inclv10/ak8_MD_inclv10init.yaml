### use `&`, `|`, `~` for logical operations on numpy arrays
### can use functions from `math`, `np` (numpy), and `ak` in the expression

## Note: hww has fake fj_isQCD=1.. However in below selection we do not select label_H_wwunmatch in training pool
selection: >-
    (jet_tightId==1) & (jet_no<2) & (fj_pt>200) & (fj_pt<5000) & (fj_sdmass>0) & (fj_sdmass<650) &
    (
      ((fj_label >= 309) & (fj_label < 314) & (sample_isQCD==1) & (event_no%7!=0)) |
      (sample_isQCD==0)
    )
### selection to apply at test time (i.e., when running w/ --predict)
# starting from v8: we have dedicated QCD and ttbar dataset for test only - they compose of 1/7 full events.
# for QCD: just use 1/2 of events
test_time_selection: >-
    (jet_tightId==1) & (jet_no<2) &
    (
      ((sample_isQCD==1) & (event_no%2==0)) |
      (sample_isQCD==0)
    )
new_variables:
    ### [format] name: formula
    ### can use functions from `math`, `np` (numpy), and `ak` in the expression
    # classes for reweighting
    label_Top_bWQQ: ((fj_label >= 0) & (fj_label < 2))
    label_Top_bWQ: ((fj_label >= 2) & (fj_label < 5))
    label_Top_bWev: (fj_label == 5)
    label_Top_bWmv: (fj_label == 6)
    label_Top_bWtauev: (fj_label == 7)
    label_Top_bWtaumv: (fj_label == 8)
    label_Top_bWtauhv: (fj_label == 9)
    label_Top_WQQ: ((fj_label >= 10) & (fj_label < 12))
    label_Top_Wev: (fj_label == 12)
    label_Top_Wmv: (fj_label == 13)
    label_Top_Wtauev: (fj_label == 14)
    label_Top_Wtaumv: (fj_label == 15)
    label_Top_Wtauhv: (fj_label == 16)
    label_H_bb: (fj_label == 17)
    label_H_cc: (fj_label == 18)
    label_H_ss: (fj_label == 19)
    label_H_qq: (fj_label == 20)
    label_H_bc: (fj_label == 21)
    label_H_bs: (fj_label == 22)
    label_H_cs: (fj_label == 23)
    label_H_gg: (fj_label == 24)
    label_H_ee: (fj_label == 25)
    label_H_mm: (fj_label == 26)
    label_H_tauhtaue: (fj_label == 27)
    label_H_tauhtaum: (fj_label == 28)
    label_H_tauhtauh: (fj_label == 29)
    label_H_WW_QQQQ: ((fj_label >= 30) & (fj_label < 33))
    label_H_WW_QQQ: ((fj_label >= 33) & (fj_label < 39))
    label_H_WW_QQev: ((fj_label >= 39) & (fj_label < 41))
    label_H_WW_QQmv: ((fj_label >= 41) & (fj_label < 43))
    label_H_WW_QQtauev: ((fj_label >= 43) & (fj_label < 45))
    label_H_WW_QQtaumv: ((fj_label >= 45) & (fj_label < 47))
    label_H_WW_QQtauhv: ((fj_label >= 47) & (fj_label < 49))
    label_H_WxWx_QQQQ: ((fj_label >= 49) & (fj_label < 52))
    label_H_WxWx_QQQ: ((fj_label >= 52) & (fj_label < 58))
    label_H_WxWx_QQev: ((fj_label >= 58) & (fj_label < 60))
    label_H_WxWx_QQmv: ((fj_label >= 60) & (fj_label < 62))
    label_H_WxWx_QQtauev: ((fj_label >= 62) & (fj_label < 64))
    label_H_WxWx_QQtaumv: ((fj_label >= 64) & (fj_label < 66))
    label_H_WxWx_QQtauhv: ((fj_label >= 66) & (fj_label < 68))
    label_H_WxWxStar_QQQQ: ((fj_label >= 68) & (fj_label < 71))
    label_H_WxWxStar_QQQ: ((fj_label >= 71) & (fj_label < 77))
    label_H_WxWxStar_QQev: ((fj_label >= 77) & (fj_label < 79))
    label_H_WxWxStar_QQmv: ((fj_label >= 79) & (fj_label < 81))
    label_H_WxWxStar_QQtauev: ((fj_label >= 81) & (fj_label < 83))
    label_H_WxWxStar_QQtaumv: ((fj_label >= 83) & (fj_label < 85))
    label_H_WxWxStar_QQtauhv: ((fj_label >= 85) & (fj_label < 87))
    label_H_ZZ_QQQQ: ((fj_label >= 87) & (fj_label < 97))
    label_H_ZZ_QQQ: ((fj_label >= 97) & (fj_label < 113))
    label_H_ZZ_QQee: ((fj_label == 113) | (fj_label == 125) | (fj_label == 137) | (fj_label == 149))
    label_H_ZZ_QQmm: ((fj_label == 114) | (fj_label == 126) | (fj_label == 138) | (fj_label == 150))
    label_H_ZZ_QQe: ((fj_label == 115) | (fj_label == 127) | (fj_label == 139) | (fj_label == 151))
    label_H_ZZ_QQm: ((fj_label == 116) | (fj_label == 128) | (fj_label == 140) | (fj_label == 152))
    label_H_ZZ_Qee: ((fj_label == 117) | (fj_label == 129) | (fj_label == 141) | (fj_label == 153))
    label_H_ZZ_Qmm: ((fj_label == 118) | (fj_label == 130) | (fj_label == 142) | (fj_label == 154))
    label_H_ZZ_QQtauhtaue: ((fj_label == 119) | (fj_label == 131) | (fj_label == 143) | (fj_label == 155))
    label_H_ZZ_QQtauhtaum: ((fj_label == 120) | (fj_label == 132) | (fj_label == 144) | (fj_label == 156))
    label_H_ZZ_QQtauhtauh: ((fj_label == 121) | (fj_label == 133) | (fj_label == 145) | (fj_label == 157))
    label_H_ZZ_Qtauhtaue: ((fj_label == 122) | (fj_label == 134) | (fj_label == 146) | (fj_label == 158))
    label_H_ZZ_Qtauhtaum: ((fj_label == 123) | (fj_label == 135) | (fj_label == 147) | (fj_label == 159))
    label_H_ZZ_Qtauhtauh: ((fj_label == 124) | (fj_label == 136) | (fj_label == 148) | (fj_label == 160))
    label_H_ZxZx_QQQQ: ((fj_label >= 161) & (fj_label < 171))
    label_H_ZxZx_QQQ: ((fj_label >= 171) & (fj_label < 187))
    label_H_ZxZx_QQee: ((fj_label == 187) | (fj_label == 199) | (fj_label == 211) | (fj_label == 223))
    label_H_ZxZx_QQmm: ((fj_label == 188) | (fj_label == 200) | (fj_label == 212) | (fj_label == 224))
    label_H_ZxZx_QQe: ((fj_label == 189) | (fj_label == 201) | (fj_label == 213) | (fj_label == 225))
    label_H_ZxZx_QQm: ((fj_label == 190) | (fj_label == 202) | (fj_label == 214) | (fj_label == 226))
    label_H_ZxZx_Qee: ((fj_label == 191) | (fj_label == 203) | (fj_label == 215) | (fj_label == 227))
    label_H_ZxZx_Qmm: ((fj_label == 192) | (fj_label == 204) | (fj_label == 216) | (fj_label == 228))
    label_H_ZxZx_QQtauhtaue: ((fj_label == 193) | (fj_label == 205) | (fj_label == 217) | (fj_label == 229))
    label_H_ZxZx_QQtauhtaum: ((fj_label == 194) | (fj_label == 206) | (fj_label == 218) | (fj_label == 230))
    label_H_ZxZx_QQtauhtauh: ((fj_label == 195) | (fj_label == 207) | (fj_label == 219) | (fj_label == 231))
    label_H_ZxZx_Qtauhtaue: ((fj_label == 196) | (fj_label == 208) | (fj_label == 220) | (fj_label == 232))
    label_H_ZxZx_Qtauhtaum: ((fj_label == 197) | (fj_label == 209) | (fj_label == 221) | (fj_label == 233))
    label_H_ZxZx_Qtauhtauh: ((fj_label == 198) | (fj_label == 210) | (fj_label == 222) | (fj_label == 234))
    label_H_ZxZxStar_QQQQ: ((fj_label >= 235) & (fj_label < 245))
    label_H_ZxZxStar_QQQ: ((fj_label >= 245) & (fj_label < 261))
    label_H_ZxZxStar_QQee: ((fj_label == 261) | (fj_label == 273) | (fj_label == 285) | (fj_label == 297))
    label_H_ZxZxStar_QQmm: ((fj_label == 262) | (fj_label == 274) | (fj_label == 286) | (fj_label == 298))
    label_H_ZxZxStar_QQe: ((fj_label == 263) | (fj_label == 275) | (fj_label == 287) | (fj_label == 299))
    label_H_ZxZxStar_QQm: ((fj_label == 264) | (fj_label == 276) | (fj_label == 288) | (fj_label == 300))
    label_H_ZxZxStar_Qee: ((fj_label == 265) | (fj_label == 277) | (fj_label == 289) | (fj_label == 301))
    label_H_ZxZxStar_Qmm: ((fj_label == 266) | (fj_label == 278) | (fj_label == 290) | (fj_label == 302))
    label_H_ZxZxStar_QQtauhtaue: ((fj_label == 267) | (fj_label == 279) | (fj_label == 291) | (fj_label == 303))
    label_H_ZxZxStar_QQtauhtaum: ((fj_label == 268) | (fj_label == 280) | (fj_label == 292) | (fj_label == 304))
    label_H_ZxZxStar_QQtauhtauh: ((fj_label == 269) | (fj_label == 281) | (fj_label == 293) | (fj_label == 305))
    label_H_ZxZxStar_Qtauhtaue: ((fj_label == 270) | (fj_label == 282) | (fj_label == 294) | (fj_label == 306))
    label_H_ZxZxStar_Qtauhtaum: ((fj_label == 271) | (fj_label == 283) | (fj_label == 295) | (fj_label == 307))
    label_H_ZxZxStar_Qtauhtauh: ((fj_label == 272) | (fj_label == 284) | (fj_label == 296) | (fj_label == 308))
    label_QCD: (fj_label >= 309) & (fj_label < 314)
    # new categroies for reweighting
    label_H_aa: (fj_label == 317)
    label_H_HV_aaQQ: ((fj_label >= 344) & (fj_label < 354))
    label_H_HV_aaee: (fj_label == 354)
    label_H_HV_aamm: (fj_label == 355)
    label_H_HV_aatauhtaue: (fj_label == 356)
    label_H_HV_aatauhtaum: (fj_label == 357)
    label_H_HV_aatauhtauh: (fj_label == 358)
    label_H_HV_aaQ: ((fj_label >= 359) & (fj_label < 364))
    label_H_HV_aae: (fj_label == 364)
    label_H_HV_aam: (fj_label == 365)
    label_H_HV_aataue: (fj_label == 366)
    label_H_HV_aataum: (fj_label == 367)
    label_H_HV_aatauh: (fj_label == 368)
    label_H_HV_aQQ: ((fj_label >= 369) & (fj_label < 379))
    label_H_HV_aee: (fj_label == 379)
    label_H_HV_amm: (fj_label == 380)
    label_H_HV_atauhtaue: (fj_label == 381)
    label_H_HV_atauhtaum: (fj_label == 382)
    label_H_HV_atauhtauh: (fj_label == 383)
    # define labels
    fj_label_mod: >-
        ak.where(fj_label < 25, fj_label,
        ak.where((fj_label >= 25) & (fj_label < 309), fj_label + 1,
        ak.where((fj_label >= 309) & (fj_label < 314), fj_label + 41,
        ak.where(fj_label == 317, 25,
        ak.where((fj_label >= 344) & (fj_label < 384), fj_label - 34, 10000)))))
    # ordered by pt
    cpfcandlt_index: ak.argsort(cpfcandlt_pt_nopuppi, axis=-1, ascending=False)
    cpfcandlt_pt_log_nopuppi_sort: cpfcandlt_pt_log_nopuppi[cpfcandlt_index]
    cpfcandlt_e_log_nopuppi_sort: cpfcandlt_e_log_nopuppi[cpfcandlt_index]
    cpfcandlt_etarel_sort: cpfcandlt_etarel[cpfcandlt_index]
    cpfcandlt_phirel_sort: cpfcandlt_phirel[cpfcandlt_index]
    cpfcandlt_abseta_sort: cpfcandlt_abseta[cpfcandlt_index]
    cpfcandlt_charge_sort: cpfcandlt_charge[cpfcandlt_index]
    cpfcandlt_isEl_sort: cpfcandlt_isEl[cpfcandlt_index]
    cpfcandlt_isMu_sort: cpfcandlt_isMu[cpfcandlt_index]
    cpfcandlt_isChargedHad_sort: cpfcandlt_isChargedHad[cpfcandlt_index]
    cpfcandlt_isLostTrack_sort: cpfcandlt_isLostTrack[cpfcandlt_index]
    cpfcandlt_VTX_ass_sort: cpfcandlt_VTX_ass[cpfcandlt_index]
    cpfcandlt_lostInnerHits_sort: cpfcandlt_lostInnerHits[cpfcandlt_index]
    cpfcandlt_normchi2_sort: cpfcandlt_normchi2[cpfcandlt_index]
    cpfcandlt_quality_sort: cpfcandlt_quality[cpfcandlt_index]
    cpfcandlt_dz_sort: cpfcandlt_dz[cpfcandlt_index]
    cpfcandlt_dzsig_sort: cpfcandlt_dzsig[cpfcandlt_index]
    cpfcandlt_dxy_sort: cpfcandlt_dxy[cpfcandlt_index]
    cpfcandlt_dxysig_sort: cpfcandlt_dxysig[cpfcandlt_index]
    cpfcandlt_btagEtaRel_sort: cpfcandlt_btagEtaRel[cpfcandlt_index]
    cpfcandlt_btagPtRatio_sort: cpfcandlt_btagPtRatio[cpfcandlt_index]
    cpfcandlt_btagPParRatio_sort: cpfcandlt_btagPParRatio[cpfcandlt_index]
    cpfcandlt_btagSip3dVal_sort: cpfcandlt_btagSip3dVal[cpfcandlt_index]
    cpfcandlt_btagSip3dSig_sort: cpfcandlt_btagSip3dSig[cpfcandlt_index]
    cpfcandlt_btagJetDistVal_sort: cpfcandlt_btagJetDistVal[cpfcandlt_index]
    cpfcandlt_pixelBarrelLayersWithMeasurement_sort: cpfcandlt_pixelBarrelLayersWithMeasurement[cpfcandlt_index]
    cpfcandlt_pixelEndcapLayersWithMeasurement_sort: cpfcandlt_pixelEndcapLayersWithMeasurement[cpfcandlt_index]
    cpfcandlt_stripTECLayersWithMeasurement_sort: cpfcandlt_stripTECLayersWithMeasurement[cpfcandlt_index]
    cpfcandlt_stripTIBLayersWithMeasurement_sort: cpfcandlt_stripTIBLayersWithMeasurement[cpfcandlt_index]
    cpfcandlt_stripTIDLayersWithMeasurement_sort: cpfcandlt_stripTIDLayersWithMeasurement[cpfcandlt_index]
    cpfcandlt_stripTOBLayersWithMeasurement_sort: cpfcandlt_stripTOBLayersWithMeasurement[cpfcandlt_index]
    cpfcandlt_px_sort: cpfcandlt_px[cpfcandlt_index]
    cpfcandlt_py_sort: cpfcandlt_py[cpfcandlt_index]
    cpfcandlt_pz_sort: cpfcandlt_pz[cpfcandlt_index]
    cpfcandlt_energy_sort: cpfcandlt_energy[cpfcandlt_index]
    # masks
    cpfcandlt_mask: ak.ones_like(cpfcandlt_etarel)
    npfcand_mask: ak.ones_like(npfcand_etarel)
    sv_mask: ak.ones_like(sv_etarel)

preprocess:
    ### method: [manual, auto] - whether to use manually specified parameters for variable standardization
    method: manual
    ### data_fraction: fraction of events to use when calculating the mean/scale for the standardization
    data_fraction:

inputs:
    cpf_features:
        length: 90
        pad_mode: wrap
        vars:
            ### [format 1]: var_name (no transformation)
            ### [format 2]: [var_name,
            ###              subtract_by(optional, default=None, no transf. if preprocess.method=manual, auto transf. if preprocess.method=auto),
            ###              multiply_by(optional, default=1),
            ###              clip_min(optional, default=-5),
            ###              clip_max(optional, default=5),
            ###              pad_value(optional, default=0)]
            - [cpfcandlt_pt_log_nopuppi_sort, 1, 0.5]
            - [cpfcandlt_e_log_nopuppi_sort, 1.3, 0.5]
            - cpfcandlt_etarel_sort
            - cpfcandlt_phirel_sort
            - [cpfcandlt_abseta_sort, 0.6, 1.6]
            - cpfcandlt_charge_sort
            - cpfcandlt_isEl_sort
            - cpfcandlt_isMu_sort
            - cpfcandlt_isChargedHad_sort
            - cpfcandlt_isLostTrack_sort
            - [cpfcandlt_VTX_ass_sort, 4, 0.3]
            - cpfcandlt_lostInnerHits_sort
            - [cpfcandlt_normchi2_sort, 5, 0.2]
            - [cpfcandlt_quality_sort, 0, 0.2]
            - [cpfcandlt_dz_sort, 0, 180]
            - [cpfcandlt_dzsig_sort, 0, 0.9]
            - [cpfcandlt_dxy_sort, 0.0, 300]
            - [cpfcandlt_dxysig_sort, 0, 1.0]
            - [cpfcandlt_btagEtaRel_sort, 1.5, 0.5]
            - [cpfcandlt_btagPtRatio_sort, 0, 1]
            - [cpfcandlt_btagPParRatio_sort, 0, 1]
            - [cpfcandlt_btagSip3dVal_sort, 0, 100]
            - [cpfcandlt_btagSip3dSig_sort, 0, 0.5]
            - [cpfcandlt_btagJetDistVal_sort, 0, 40]
            - [cpfcandlt_pixelBarrelLayersWithMeasurement_sort, 0, 0.1]
            - [cpfcandlt_pixelEndcapLayersWithMeasurement_sort, 0, 0.1]
            - [cpfcandlt_stripTECLayersWithMeasurement_sort, 0, 0.1]
            - [cpfcandlt_stripTIBLayersWithMeasurement_sort, 0, 0.1]
            - [cpfcandlt_stripTIDLayersWithMeasurement_sort, 0, 0.1]
            - [cpfcandlt_stripTOBLayersWithMeasurement_sort, 0, 0.1]
    cpf_vectors:
        length: 90
        pad_mode: wrap
        vars:
            - [cpfcandlt_px_sort, null]
            - [cpfcandlt_py_sort, null]
            - [cpfcandlt_pz_sort, null]
            - [cpfcandlt_energy_sort, null]
    cpf_mask:
        length: 90
        pad_mode: constant
        vars:
            - cpfcandlt_mask
    npf_features:
        length: 60
        pad_mode: wrap
        vars:
            - [npfcand_pt_log_nopuppi, 1, 0.5]
            - [npfcand_e_log_nopuppi, 1.3, 0.5]
            - npfcand_etarel
            - npfcand_phirel
            - [npfcand_abseta, 0.6, 1.6]
            - npfcand_isGamma
            - npfcand_isNeutralHad
    npf_vectors:
        length: 60
        pad_mode: wrap
        vars:
            - [npfcand_px, null]
            - [npfcand_py, null]
            - [npfcand_pz, null]
            - [npfcand_energy, null]
    npf_mask:
        length: 60
        pad_mode: constant
        vars:
            - npfcand_mask
    sv_features:
        length: 10
        pad_mode: wrap
        vars:
            - [sv_pt_log, 4, 0.6]
            - [sv_mass, 1.2, 0.3]
            - sv_etarel
            - sv_phirel
            - [sv_abseta, 0.5, 1.6]
            - [sv_ntracks, 3, 1]
            - [sv_normchi2, 0.8, 0.6]
            - [sv_dxy, 0.4, 0.25]
            - [sv_dxysig, 7, 0.02]
            - [sv_d3d, 0.5, 0.2]
            - [sv_d3dsig, 7, 0.02]
    sv_vectors:
        length: 10
        pad_mode: wrap
        vars:
            - [sv_px, null]
            - [sv_py, null]
            - [sv_pz, null]
            - [sv_energy, null]
    sv_mask:
        length: 10
        pad_mode: constant
        vars:
            - sv_mask

labels:
    ### type can be `simple`, `custom`, 'hybrid'
    type: custom
    value:
      truth_label: fj_label_mod  # just input the label index
      target_res_mass_factor: np.where(fj_isQCD, fj_genjet_sdmass, fj_gen_mass) / fj_mass
      target_parts_mass_factor: np.where(fj_isQCD, fj_genjet_nomu_sdmass, fj_genparts_mass) / fj_mass

observers:
    - event_no
    - fj_label
    - fj_label_mod
    - fj_pt
    - fj_eta
    - fj_phi
    - fj_mass
    - fj_sdmass
    - fj_sdmass_fromsubjets
    - fj_gen_mass
    - fj_genparts_mass
    - fj_genjet_sdmass
    - fj_genjet_nomu_sdmass
    - sample_isQCD
    - pfParticleNetMassRegressionJetTags_mass
    - pfMassDecorrelatedParticleNetJetTags_probXbb
    - pfMassDecorrelatedParticleNetJetTags_probXcc
    - pfMassDecorrelatedParticleNetJetTags_probXqq
    - pfMassDecorrelatedParticleNetJetTags_probQCDb
    - pfMassDecorrelatedParticleNetJetTags_probQCDbb
    - pfMassDecorrelatedParticleNetJetTags_probQCDc
    - pfMassDecorrelatedParticleNetJetTags_probQCDcc
    - pfMassDecorrelatedParticleNetJetTags_probQCDothers
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_mass
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWev0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWev1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWmv0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWmv1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWq0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWq1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWq2c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWqq0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWqq1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWqq2c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWtauev0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWtauev1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWtauhv0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWtauhv1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWtaumv0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHWqqWtaumv1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHbb
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHcc
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHqq
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHss
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHtauhtaue
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHtauhtauh
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probHtauhtaum
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probQCDb
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probQCDbb
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probQCDc
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probQCDcc
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probQCDothers
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWev
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWmv
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWq0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWq1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWqq0c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWqq1c
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWtauev
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWtauhv
    - pfMassDecorrelatedInclParticleTransformerV1JetTags_probTopbWtaumv

weights:
    ### [option 1] use precomputed weights stored in the input files
    # use_precomputed_weights: true
    # weight_branches: [weight, class_weight]
    ### [option 2] compute weights on-the-fly using reweighting histograms
    use_precomputed_weights: false
    reweight_method: flat
    reweight_vars:
        fj_pt: [200, 251, 316, 398, 501, 631, 794, 1000, 1258, 1583, 1993, 2508, 3156, 3972, 5000]
        fj_sdmass: [0, 7.1, 14.5, 22.1, 29.9, 38.0, 46.3, 54.9, 63.7, 72.7, 82.0, 91.5, 101.3, 111.3, 121.5, 132.0, 142.7, 153.7, 164.9, 176.3, 188.0, 199.9, 212.1, 224.5, 237.1, 250.0, 263.1, 276.5, 290.1, 303.9, 318.0, 332.3, 346.9, 361.7, 376.7, 392.0, 407.5, 423.3, 439.3, 455.5, 472.0, 488.7, 505.7, 522.9, 540.3, 558.0, 575.9, 594.1, 612.5, 631.1, 650.0]
    reweight_classes:
        [
          label_Top_bWQQ, label_Top_bWQ, label_Top_bWev, label_Top_bWmv, label_Top_bWtauev, label_Top_bWtaumv, label_Top_bWtauhv, 
          label_Top_WQQ, label_Top_Wev, label_Top_Wmv, label_Top_Wtauev, label_Top_Wtaumv, label_Top_Wtauhv, 
          label_H_bb, label_H_cc, label_H_ss, label_H_qq, label_H_bc, label_H_bs, label_H_cs, label_H_gg, label_H_aa, label_H_ee, label_H_mm, label_H_tauhtaue, label_H_tauhtaum, label_H_tauhtauh, 
          label_H_WW_QQQQ, label_H_WW_QQQ, label_H_WW_QQev, label_H_WW_QQmv, label_H_WW_QQtauev, label_H_WW_QQtaumv, label_H_WW_QQtauhv, 
          label_H_WxWx_QQQQ, label_H_WxWx_QQQ, label_H_WxWx_QQev, label_H_WxWx_QQmv, label_H_WxWx_QQtauev, label_H_WxWx_QQtaumv, label_H_WxWx_QQtauhv, 
          label_H_WxWxStar_QQQQ, label_H_WxWxStar_QQQ, label_H_WxWxStar_QQev, label_H_WxWxStar_QQmv, label_H_WxWxStar_QQtauev, label_H_WxWxStar_QQtaumv, label_H_WxWxStar_QQtauhv, 
          label_H_ZZ_QQQQ, label_H_ZZ_QQQ, label_H_ZZ_QQee, label_H_ZZ_QQmm, label_H_ZZ_QQe, label_H_ZZ_QQm, label_H_ZZ_Qee, label_H_ZZ_Qmm, label_H_ZZ_QQtauhtaue, label_H_ZZ_QQtauhtaum, label_H_ZZ_QQtauhtauh, label_H_ZZ_Qtauhtaue, label_H_ZZ_Qtauhtaum, label_H_ZZ_Qtauhtauh, 
          label_H_ZxZx_QQQQ, label_H_ZxZx_QQQ, label_H_ZxZx_QQee, label_H_ZxZx_QQmm, label_H_ZxZx_QQe, label_H_ZxZx_QQm, label_H_ZxZx_Qee, label_H_ZxZx_Qmm, label_H_ZxZx_QQtauhtaue, label_H_ZxZx_QQtauhtaum, label_H_ZxZx_QQtauhtauh, label_H_ZxZx_Qtauhtaue, label_H_ZxZx_Qtauhtaum, label_H_ZxZx_Qtauhtauh, 
          label_H_ZxZxStar_QQQQ, label_H_ZxZxStar_QQQ, label_H_ZxZxStar_QQee, label_H_ZxZxStar_QQmm, label_H_ZxZxStar_QQe, label_H_ZxZxStar_QQm, label_H_ZxZxStar_Qee, label_H_ZxZxStar_Qmm, label_H_ZxZxStar_QQtauhtaue, label_H_ZxZxStar_QQtauhtaum, label_H_ZxZxStar_QQtauhtauh, label_H_ZxZxStar_Qtauhtaue, label_H_ZxZxStar_Qtauhtaum, label_H_ZxZxStar_Qtauhtauh, 
          label_H_HV_aaQQ, label_H_HV_aaee, label_H_HV_aamm, label_H_HV_aatauhtaue, label_H_HV_aatauhtaum, label_H_HV_aatauhtauh, label_H_HV_aaQ, label_H_HV_aae, label_H_HV_aam, label_H_HV_aataue, label_H_HV_aataum, label_H_HV_aatauh, label_H_HV_aQQ, label_H_HV_aee, label_H_HV_amm, label_H_HV_atauhtaue, label_H_HV_atauhtaum, label_H_HV_atauhtauh,
          label_QCD, 
        ]
    class_weights:
      [
        0.4, 0.09, 0.12, 0.12, 0.01, 0.01, 0.035,
        0.024, 0.0025, 0.0025, 0.0005, 0.0005, 0.0015,
        0.16, 0.16, 0.16, 0.16, 0.16, 0.16, 0.16, 0.16, 0.04, 0.06, 0.06, 0.04, 0.04, 0.12,
        0.16, 0.04, 0.1, 0.1, 0.015, 0.015, 0.07,
        0.08, 0.02, 0.05, 0.05, 0.0075, 0.0075, 0.035, 
        0.08, 0.02, 0.05, 0.05, 0.0075, 0.0075, 0.035, 
        0.16, 0.04, 0.08, 0.08, 0.012, 0.012, 0.016, 0.016, 0.016, 0.016, 0.048, 0.0008, 0.0008, 0.0024,
        0.08, 0.02, 0.04, 0.04, 0.006, 0.006, 0.008, 0.008, 0.008, 0.008, 0.024, 0.0004, 0.0004, 0.0012,
        0.08, 0.02, 0.04, 0.04, 0.006, 0.006, 0.008, 0.008, 0.008, 0.008, 0.024, 0.0004, 0.0004, 0.0012,
        0.08, 0.016, 0.016, 0.001, 0.001, 0.003, 0.004, 0.008, 0.008, 0.0008, 0.0008, 0.0024, 0.004, 0.0008, 0.0008, 0.0002, 0.0002, 0.0003,
        1.5, 
      ]
    reweight_hists:
